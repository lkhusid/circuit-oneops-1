package.access=sun.,org.apache.catalina.,org.apache.coyote.,org.apache.tomcat.,org.apache.jasper.

package.definition=sun.,java.,org.apache.catalina.,org.apache.coyote.,org.apache.tomcat.,org.apache.jasper.

common.loader=${catalina.base}/lib,${catalina.base}/lib/*.jar,${catalina.home}/lib,${catalina.home}/lib/*.jar

server.loader=

shared.loader=

tomcat.util.scan.DefaultJarScanner.jarsToSkip=\
bootstrap.jar,commons-daemon.jar,tomcat-juli.jar,\
annotations-api.jar,el-api.jar,jsp-api.jar,servlet-api.jar,websocket-api.jar,\
catalina.jar,catalina-ant.jar,catalina-ha.jar,catalina-tribes.jar,\
jasper.jar,jasper-el.jar,ecj-*.jar,\
tomcat-api.jar,tomcat-util.jar,tomcat-coyote.jar,tomcat-dbcp.jar,\
tomcat-jni.jar,tomcat-spdy.jar,\
tomcat-i18n-en.jar,tomcat-i18n-es.jar,tomcat-i18n-fr.jar,tomcat-i18n-ja.jar,\
tomcat-juli-adapters.jar,catalina-jmx-remote.jar,catalina-ws.jar,\
tomcat-jdbc.jar,\
tools.jar,\
commons-beanutils*.jar,commons-codec*.jar,commons-collections*.jar,\
commons-dbcp*.jar,commons-digester*.jar,commons-fileupload*.jar,\
commons-httpclient*.jar,commons-io*.jar,commons-lang*.jar,commons-logging*.jar,\
commons-math*.jar,commons-pool*.jar,\
jstl.jar,\
geronimo-spec-jaxrpc*.jar,wsdl4j*.jar,\
ant.jar,ant-junit*.jar,aspectj*.jar,jmx.jar,h2*.jar,hibernate*.jar,httpclient*.jar,\
jmx-tools.jar,jta*.jar,log4j.jar,log4j-1*.jar,mail*.jar,slf4j*.jar,\
xercesImpl.jar,xmlParserAPIs.jar,xml-apis.jar,\
junit.jar,junit-*.jar,hamcrest*.jar,org.hamcrest*.jar,ant-launcher.jar,\
cobertura-*.jar,asm-*.jar,dom4j-*.jar,icu4j-*.jar,jaxen-*.jar,jdom-*.jar,\
jetty-*.jar,oro-*.jar,servlet-api-*.jar,tagsoup-*.jar,xmlParserAPIs-*.jar,\
xom-*.jar

org.apache.catalina.startup.ContextConfig.jarsToSkip=
org.apache.catalina.startup.TldConfig.jarsToSkip=tomcat7-websocket.jar

#
# String cache configuration.
tomcat.util.buf.StringCache.byte.enabled=true
#tomcat.util.buf.StringCache.char.enabled=true
#tomcat.util.buf.StringCache.trainThreshold=500000
#tomcat.util.buf.StringCache.cacheSize=5000

#### Node configuration after this point ####################################
connector.manager.port=<%= node['enterprise_server']['server_mgt_port'] %>

context.crossContext=<%= node['enterprise_server']['context_cross_context'] %>
context.reloadable=<%= node['enterprise_server']['context_reloadable'] %>

context.allowLinking=false
context.antiJarLocking=true
context.cacheMaxSize=20480
context.cacheObjectMaxSize=1024
context.cacheTTL=20000
context.unloadDelay=20000
context.useHttpOnly=true

host.unpackWars=<%= node['enterprise_server']['host_unpack_wars'] %>
host.autodeploy=<%= node['enterprise_server']['host_autodeploy'] %>
host.deployOnStartup=<%= node['enterprise_server']['host_deploy_on_startup'] %>
host.deployXml=true

executor.threads.max=<%= node['enterprise_server']['executor_max_threads'] %>
executor.threads.spare.min=<%= node['enterprise_server']['executor_min_spare_threads'] %>
##executor.threads.prestart=<%= node['enterprise_server']['executor_prestart_min_spare_threads'] %>

connector.all.compression.enabled=on
connector.all.compression.mime.types=text/html,text/xml,application/xml,application/json,text/json,text/css,image/png,image/jpg,image/gif
connector.all.xpoweredBy=OneOps-Application-Server
connector.all.server=
connector.all.allowTrace=<%= node['enterprise_server']['enable_method_trace'] %>

connector.http.port=<%= node['enterprise_server']['port'] %>
connector.http.port.redirect=<%= node['enterprise_server']['port'] %>
connector.http.protocol=<%= node['enterprise_server']['http_connector_protocol'] %>

connector.https.port=<%= node['enterprise_server']['https_connector_port'] %>
connector.https.protocol=<%= node['enterprise_server']['https_connector_protocol'] %>
connector.https.sslprotocols=<%= node['enterprise_server']['sslprotocols'] %>
connector.https.keystore.path=<%= node['enterprise_server']['keystore_path'] %>
connector.https.keystore.pass=<%= node['enterprise_server']['keystore_pass'] %>
connector.https.ciphers=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,TLS_DHE_RSA_WITH_AES_256_CBC_SHA256,TLS_DHE_RSA_WITH_AES_256_CBC_SHA,TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_CBC_SHA256,TLS_RSA_WITH_AES_256_CBC_SHA,TLS_RSA_WITH_CAMELLIA_256_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA,TLS_RSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_CAMELLIA_128_CBC_SHA,TLS_DHE_RSA_WITH_SEED_CBC_SHA,TLS_RSA_WITH_SEED_CBC_SHA

connector.ajp.port=<%= node['enterprise_server']['ajp_connector_port'] %>
connector.ajp.redirect=<%= node['enterprise_server']['https_connector_port'] %>
connector.ajp.protocol=AJP/1.3

logs.dir=<%= node['enterprise_server']['logs']['server_log_path'] %>
logs.prefix=<%= node['enterprise_server']['logs']['access_log_prefix'] %>
logs.format.date=<%= node['enterprise_server']['logs']['access_log_file_date_format'] %>
logs.suffix=<%= node['enterprise_server']['logs']['access_log_suffix'] %>
logs.format.line=<%= node['enterprise_server']['logs']['access_log_pattern'] %>

shutdown.command=<%= (0...25).map { ('a'..'z').to_a[rand(26)] }.join %>
